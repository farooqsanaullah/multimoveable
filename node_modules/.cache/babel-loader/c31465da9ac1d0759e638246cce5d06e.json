{"ast":null,"code":"import _objectWithoutProperties from \"/home/ctpl/codes/Testing codes/multimoveable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _toConsumableArray from \"/home/ctpl/codes/Testing codes/multimoveable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/ctpl/codes/Testing codes/multimoveable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/ctpl/codes/Testing codes/multimoveable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"zoomIn\", \"zoomOut\", \"resetTransform\"];\n\nvar _this = this,\n    _jsxFileName = \"/home/ctpl/codes/Testing codes/multimoveable/src/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Moveable from \"react-moveable\";\nimport shortid from \"shortid\";\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\n\nvar MoveableElemet = function MoveableElemet(props) {\n  // Changes in rotate throttle may lead to invalid \"left\" and \"top\"\n  var throttles = {\n    drag: 10,\n    resize: 10,\n    rotate: 90\n  };\n  var bounds = {\n    left: 0,\n    top: 0,\n    right: 490,\n    bottom: 490\n  };\n  var properties = props.properties,\n      allowMoveable = props.allowMoveable,\n      onDuplicate = props.onDuplicate,\n      onRemove = props.onRemove;\n\n  var _useState = useState(properties),\n      _useState2 = _slicedToArray(_useState, 2),\n      privateProps = _useState2[0],\n      setPrivateProps = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      tempProps = _useState4[0],\n      setTempProps = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isHovered = _useState6[0],\n      setIsHovered = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isClicked = _useState8[0],\n      setIsClicked = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      isMoveable = _useState10[0],\n      setIsMoveable = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      target = _useState12[0],\n      setTarget = _useState12[1]; // console.log(privateProps);\n\n\n  useEffect(function () {\n    setTarget(document.getElementById(properties.id));\n  }, [properties.id, properties.classSelector]);\n\n  var generateStyleObject = function generateStyleObject(attributes) {\n    return {\n      position: \"absolute\",\n      width: \"\".concat(attributes.width, \"px\"),\n      height: \"\".concat(attributes.height, \"px\"),\n      top: \"\".concat(attributes.top, \"px\"),\n      left: \"\".concat(attributes.left, \"px\"),\n      background: attributes.backgroundColor,\n      fill: \"red\",\n      transform: \"rotate(\".concat(attributes.rotate, \"deg)\"),\n      color: attributes.fontColor,\n      fontWeight: \"bold\",\n      boxSizing: \"border-box\",\n      cursor: \"pointer\"\n    };\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    setIsHovered(true);\n    setIsMoveable(true);\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    setIsHovered(false);\n    setIsMoveable(isClicked);\n  };\n\n  var onMouseDown = function onMouseDown() {\n    setIsClicked(true);\n    setIsMoveable(true);\n  };\n\n  var onMouseUp = function onMouseUp() {\n    setIsClicked(false);\n    setIsMoveable(isHovered);\n  };\n\n  var onDoubleClick = function onDoubleClick() {\n    setIsHovered(false);\n    setIsClicked(false);\n    setIsMoveable(false);\n  };\n\n  var duplicateButton = /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return onDuplicate(properties.id);\n    },\n    onTouchStart: function onTouchStart() {\n      return onDuplicate(properties.id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, \"X2\");\n  var removeButton = /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return onRemove(properties.id);\n    },\n    onTouchStart: function onTouchStart() {\n      return onRemove(properties.id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, \"RM\");\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    id: properties.id,\n    className: properties.classSelector,\n    style: generateStyleObject(properties) // onMouseEnter={onMouseEnter}\n    // onMouseLeave={onMouseLeave}\n    // onMouseDown={onMouseDown}\n    // onMouseUp={onMouseUp}\n    // onDoubleClick={onDoubleClick}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, properties.name, allowMoveable ? duplicateButton : null, allowMoveable ? removeButton : null)), allowMoveable ? /*#__PURE__*/React.createElement(Moveable, {\n    target: target,\n    draggable: true,\n    resizable: true,\n    rotatable: true // pinchable={true}\n    ,\n    snappable: true,\n    keepRatio: true,\n    throttleDrag: throttles.drag,\n    throttleResize: throttles.resize,\n    throttleRotate: throttles.rotate // bounds={bounds}\n    ,\n    renderDirections: [\"nw\", \"n\", \"ne\", \"w\", \"e\", \"sw\", \"s\", \"se\"],\n    edge: false,\n    zoom: 100,\n    origin: false,\n    padding: {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    },\n    onDragStart: function onDragStart(_ref) {// console.log(\"onDragStart\", target);\n\n      var target = _ref.target,\n          clientX = _ref.clientX,\n          clientY = _ref.clientY;\n    },\n    onDrag: function onDrag(_ref2) {\n      var target = _ref2.target,\n          beforeDelta = _ref2.beforeDelta,\n          beforeDist = _ref2.beforeDist,\n          left = _ref2.left,\n          top = _ref2.top,\n          right = _ref2.right,\n          bottom = _ref2.bottom,\n          delta = _ref2.delta,\n          dist = _ref2.dist,\n          transform = _ref2.transform,\n          clientX = _ref2.clientX,\n          clientY = _ref2.clientY;\n      // console.log(\"onDrag left, top\", left, top);\n      // target.style.left = `${left}px`;\n      // target.style.top = `${top}px`;\n      // console.log(\"onDrag translate\", dist);\n      target.style.transform = transform;\n      var deltaX = dist[0];\n      var deltaY = dist[1];\n\n      if (privateProps.rotate === 90) {\n        deltaX = dist[1] * -1;\n        deltaY = dist[0];\n      } else if (privateProps.rotate === 180) {\n        deltaX = dist[0] * -1;\n        deltaY = dist[1] * -1;\n      } else if (privateProps.rotate === 270) {\n        deltaX = dist[1];\n        deltaY = dist[0] * -1;\n      }\n\n      setTempProps({\n        left: deltaX,\n        top: deltaY\n      });\n    },\n    onDragEnd: function onDragEnd(_ref3) {\n      var target = _ref3.target,\n          isDrag = _ref3.isDrag,\n          clientX = _ref3.clientX,\n          clientY = _ref3.clientY;\n      // console.log(\"onDragEnd\", target, isDrag, clientX, clientY);\n      setPrivateProps(_objectSpread(_objectSpread({}, privateProps), {}, {\n        left: tempProps.left !== undefined ? privateProps.left + tempProps.left : privateProps.left,\n        top: tempProps.top !== undefined ? privateProps.top + tempProps.top : privateProps.top\n      }));\n      setTempProps({});\n    },\n    onResizeStart: function onResizeStart(_ref4) {// console.log(\"onResizeStart\", target);\n\n      var target = _ref4.target,\n          clientX = _ref4.clientX,\n          clientY = _ref4.clientY;\n    },\n    onResize: function onResize(_ref5) {\n      var target = _ref5.target,\n          width = _ref5.width,\n          height = _ref5.height,\n          dist = _ref5.dist,\n          delta = _ref5.delta,\n          direction = _ref5.direction,\n          clientX = _ref5.clientX,\n          clientY = _ref5.clientY;\n      // console.log(\"onResize\", target);\n      // console.log(\"onResize\", delta);\n      // console.log(\"onResize\", width, height);\n      delta[0] && (target.style.width = \"\".concat(width, \"px\"));\n      delta[1] && (target.style.height = \"\".concat(height, \"px\"));\n      setPrivateProps(_objectSpread(_objectSpread({}, privateProps), {}, {\n        width: width,\n        height: height\n      }));\n      setTempProps({});\n    },\n    onResizeEnd: function onResizeEnd(_ref6) {// console.log(\"onResizeEnd\", target, isDrag);\n\n      var target = _ref6.target,\n          isDrag = _ref6.isDrag,\n          clientX = _ref6.clientX,\n          clientY = _ref6.clientY;\n    },\n    onRotateStart: function onRotateStart(_ref7) {// console.log(\"onRotateStart\", target);\n\n      var target = _ref7.target,\n          clientX = _ref7.clientX,\n          clientY = _ref7.clientY;\n    },\n    onRotate: function onRotate(_ref8) {\n      var target = _ref8.target,\n          delta = _ref8.delta,\n          dist = _ref8.dist,\n          transform = _ref8.transform,\n          clientX = _ref8.clientX,\n          clientY = _ref8.clientY;\n      // console.log(\"onRotate\", dist);\n      var angle = (privateProps.rotate + dist) % 360;\n      setTempProps({\n        rotate: angle < 0 ? 360 + angle : angle\n      });\n      target.style.transform = transform;\n    },\n    onRotateEnd: function onRotateEnd(_ref9) {\n      var target = _ref9.target,\n          isDrag = _ref9.isDrag,\n          clientX = _ref9.clientX,\n          clientY = _ref9.clientY;\n      // console.log(\"onRotateEnd\", target, isDrag);\n      setPrivateProps(_objectSpread(_objectSpread({}, privateProps), {}, {\n        rotate: tempProps.rotate !== undefined ? tempProps.rotate : privateProps.rotate\n      }));\n      setTempProps({});\n    } // onPinchStart={({ target, clientX, clientY, datas }) => {\n    //   // pinchStart event occur before dragStart, rotateStart, scaleStart, resizeStart\n    //   // console.log(\"onPinchStart\");\n    // }}\n    // onPinch={({ target, clientX, clientY, datas }) => {\n    //   // pinch event occur before drag, rotate, scale, resize\n    //   // console.log(\"onPinch\");\n    // }}\n    // onPinchEnd={({ isDrag, target, clientX, clientY, datas }) => {\n    //   // pinchEnd event occur before dragEnd, rotateEnd, scaleEnd, resizeEnd\n    //   // console.log(\"onPinchEnd\");\n    // }}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }) : null);\n};\n\nvar targetTemplate = {\n  classSelector: \"targets\",\n  name: \"Target\",\n  width: 100,\n  height: 100,\n  top: 100,\n  left: 100,\n  rotate: 0,\n  fill: \"red\",\n  fontColor: \"white\"\n};\n\nvar App = function App() {\n  var _useState13 = useState([{\n    id: \"target\",\n    classSelector: \"targets\",\n    name: \"Target1\",\n    width: 100,\n    height: 100,\n    top: 100,\n    left: 100,\n    rotate: 90,\n    backgroundColor: \"red\",\n    fontColor: \"white\"\n  }, {\n    id: \"target2\",\n    classSelector: \"targets\",\n    name: \"Target2\",\n    width: 200,\n    height: 200,\n    top: 220,\n    left: 200,\n    rotate: 180,\n    backgroundColor: \"green\",\n    fontColor: \"black\"\n  }]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      targets = _useState14[0],\n      setTargets = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      isMoveable = _useState16[0],\n      setIsMoveable = _useState16[1];\n\n  var onAddMore = function onAddMore() {\n    var newTarget = _objectSpread({}, targetTemplate);\n\n    newTarget.id = shortid.generate();\n    newTarget.name = \"\".concat(newTarget.name);\n    console.log(newTarget);\n    setTargets([].concat(_toConsumableArray(targets), [newTarget]));\n  };\n\n  var toggleMoveable = function toggleMoveable() {\n    setIsMoveable(!isMoveable);\n  };\n\n  var onDuplicate = function onDuplicate(id) {\n    var newTarget = _objectSpread({}, targets.find(function (item) {\n      return item.id === id;\n    }));\n\n    newTarget.id = shortid.generate();\n    newTarget.name = \"\".concat(newTarget.name);\n    setTargets([].concat(_toConsumableArray(targets), [newTarget]));\n  };\n\n  var onRemove = function onRemove(id) {\n    var index = targets.findIndex(function (item) {\n      return item.id === id;\n    });\n    setTargets([].concat(_toConsumableArray(targets.slice(0, index)), _toConsumableArray(targets.slice(index + 1))));\n  };\n\n  return /*#__PURE__*/React.createElement(TransformWrapper, {\n    defaultScale: 1,\n    options: {\n      disabled: isMoveable,\n      minScale: 0.2\n    },\n    wheel: {\n      disabled: true\n    },\n    zoomIn: {\n      step: 10\n    },\n    zoomOut: {\n      step: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 5\n    }\n  }, function (_ref10) {\n    var zoomIn = _ref10.zoomIn,\n        zoomOut = _ref10.zoomOut,\n        resetTransform = _ref10.resetTransform,\n        rest = _objectWithoutProperties(_ref10, _excluded);\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: \"absolute\",\n        bottom: \"10px\",\n        right: \"10px\",\n        zIndex: 100\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: zoomIn,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 13\n      }\n    }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginLeft: \"10px\"\n      },\n      onClick: zoomOut,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 13\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginLeft: \"10px\"\n      },\n      onClick: resetTransform,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }\n    }, \"x\"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginLeft: \"10px\"\n      },\n      onClick: onAddMore,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 13\n      }\n    }, \"Add More\"), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        marginLeft: \"10px\"\n      },\n      onClick: toggleMoveable,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 13\n      }\n    }, \"Toggle Moveable\")), /*#__PURE__*/React.createElement(TransformComponent, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      style: {\n        width: \"100vw\",\n        height: \"100vh\",\n        background: \"repeating-linear-gradient(0deg, rgba(120, 120, 120, 0.2), rgba(120, 120, 120, 0.22) 2px, rgba(0, 0, 0, 0) 2px, rgba(0, 0, 0, 0) 240px), repeating-linear-gradient(-90deg, rgba(120, 120, 120, 0.22), rgba(120, 120, 120, 0.22) 2px, rgba(0, 0, 0, 0) 2px, rgba(0, 0, 0, 0) 240px), repeating-linear-gradient(0deg, rgba(120, 120, 120, 0.22), rgba(120, 120, 120, 0.22) 2px, rgba(0, 0, 0, 0) 2px, rgba(0, 0, 0, 0) 60px), repeating-linear-gradient(-90deg, rgba(120, 120, 120, 0.22), rgba(120, 120, 120, 0.22) 2px, rgba(0, 0, 0, 0) 2px, rgba(0, 0, 0, 0) 60px)\",\n        pointerEvents: \"auto !important\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 13\n      }\n    }, targets.map(function (target) {\n      return /*#__PURE__*/React.createElement(MoveableElemet, {\n        key: target.id,\n        properties: target,\n        allowMoveable: isMoveable,\n        onDuplicate: onDuplicate,\n        onRemove: onRemove,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 17\n        }\n      });\n    }))));\n  });\n};\n\nvar rootElement = document.getElementById(\"root\");\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 377,\n    columnNumber: 17\n  }\n}), rootElement);","map":{"version":3,"sources":["/home/ctpl/codes/Testing codes/multimoveable/src/index.js"],"names":["React","useState","useEffect","ReactDOM","Moveable","shortid","TransformWrapper","TransformComponent","MoveableElemet","props","throttles","drag","resize","rotate","bounds","left","top","right","bottom","properties","allowMoveable","onDuplicate","onRemove","privateProps","setPrivateProps","tempProps","setTempProps","isHovered","setIsHovered","isClicked","setIsClicked","isMoveable","setIsMoveable","target","setTarget","document","getElementById","id","classSelector","generateStyleObject","attributes","position","width","height","background","backgroundColor","fill","transform","color","fontColor","fontWeight","boxSizing","cursor","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onDoubleClick","duplicateButton","removeButton","name","clientX","clientY","beforeDelta","beforeDist","delta","dist","style","deltaX","deltaY","isDrag","undefined","direction","angle","targetTemplate","App","targets","setTargets","onAddMore","newTarget","generate","console","log","toggleMoveable","find","item","index","findIndex","slice","disabled","minScale","step","zoomIn","zoomOut","resetTransform","rest","zIndex","marginLeft","pointerEvents","map","rootElement","render"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Moveable from \"react-moveable\";\nimport shortid from \"shortid\";\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\n\nconst MoveableElemet = (props) => {\n  // Changes in rotate throttle may lead to invalid \"left\" and \"top\"\n  const throttles = { drag: 10, resize: 10, rotate: 90 };\n  const bounds = { left: 0, top: 0, right: 490, bottom: 490 };\n  const { properties, allowMoveable, onDuplicate, onRemove } = props;\n  const [privateProps, setPrivateProps] = useState(properties);\n  const [tempProps, setTempProps] = useState({});\n  const [isHovered, setIsHovered] = useState(false);\n  const [isClicked, setIsClicked] = useState(false);\n  const [isMoveable, setIsMoveable] = useState(false);\n  const [target, setTarget] = useState();\n\n  // console.log(privateProps);\n\n  useEffect(() => {\n    setTarget(document.getElementById(properties.id));\n  }, [properties.id, properties.classSelector]);\n\n  const generateStyleObject = (attributes) => ({\n    position: \"absolute\",\n    width: `${attributes.width}px`,\n    height: `${attributes.height}px`,\n    top: `${attributes.top}px`,\n    left: `${attributes.left}px`,\n    background: attributes.backgroundColor,\n    fill: \"red\",\n    transform: `rotate(${attributes.rotate}deg)`,\n    color: attributes.fontColor,\n    fontWeight: \"bold\",\n    boxSizing: \"border-box\",\n    cursor: \"pointer\"\n  });\n\n  const onMouseEnter = () => {\n    setIsHovered(true);\n    setIsMoveable(true);\n  };\n\n  const onMouseLeave = () => {\n    setIsHovered(false);\n    setIsMoveable(isClicked);\n  };\n\n  const onMouseDown = () => {\n    setIsClicked(true);\n    setIsMoveable(true);\n  };\n\n  const onMouseUp = () => {\n    setIsClicked(false);\n    setIsMoveable(isHovered);\n  };\n\n  const onDoubleClick = () => {\n    setIsHovered(false);\n    setIsClicked(false);\n    setIsMoveable(false);\n  };\n\n  const duplicateButton = (\n    <button\n      onClick={() => onDuplicate(properties.id)}\n      onTouchStart={() => onDuplicate(properties.id)}\n    >\n      X2\n    </button>\n  );\n\n  const removeButton = (\n    <button\n      onClick={() => onRemove(properties.id)}\n      onTouchStart={() => onRemove(properties.id)}\n    >\n      RM\n    </button>\n  );\n\n  return (\n    <React.Fragment>\n      <svg\n        id={properties.id}\n        className={properties.classSelector}\n        style={generateStyleObject(properties)}\n      // onMouseEnter={onMouseEnter}\n      // onMouseLeave={onMouseLeave}\n      // onMouseDown={onMouseDown}\n      // onMouseUp={onMouseUp}\n      // onDoubleClick={onDoubleClick}\n      >\n        <rect\n        // style={{\n        //   width: \"100%\",\n        //   height: \"100%\",\n        //   position: \"absolute\",\n        //   flexDirection: \"column\",\n        //   display: \"flex\",\n        //   justifyContent: \"center\",\n        //   alignItems: \"center\",\n        //   transform: `rotate(${-1 * properties.rotate}deg)`\n        // }}\n\n        >\n          {properties.name}\n          {allowMoveable ? duplicateButton : null}\n          {allowMoveable ? removeButton : null}\n        </rect>\n      </svg>\n      {allowMoveable ? (\n        <Moveable\n          target={target}\n          draggable={true}\n          resizable={true}\n          rotatable={true}\n          // pinchable={true}\n          snappable={true}\n          keepRatio={true}\n          throttleDrag={throttles.drag}\n          throttleResize={throttles.resize}\n          throttleRotate={throttles.rotate}\n          // bounds={bounds}\n          renderDirections={[\"nw\", \"n\", \"ne\", \"w\", \"e\", \"sw\", \"s\", \"se\"]}\n          edge={false}\n          zoom={100}\n          origin={false}\n          padding={{ left: 0, top: 0, right: 0, bottom: 0 }}\n          onDragStart={({ target, clientX, clientY }) => {\n            // console.log(\"onDragStart\", target);\n          }}\n          onDrag={({\n            target,\n            beforeDelta,\n            beforeDist,\n            left,\n            top,\n            right,\n            bottom,\n            delta,\n            dist,\n            transform,\n            clientX,\n            clientY\n          }) => {\n            // console.log(\"onDrag left, top\", left, top);\n            // target.style.left = `${left}px`;\n            // target.style.top = `${top}px`;\n            // console.log(\"onDrag translate\", dist);\n            target.style.transform = transform;\n            let deltaX = dist[0];\n            let deltaY = dist[1];\n            if (privateProps.rotate === 90) {\n              deltaX = dist[1] * -1;\n              deltaY = dist[0];\n            } else if (privateProps.rotate === 180) {\n              deltaX = dist[0] * -1;\n              deltaY = dist[1] * -1;\n            } else if (privateProps.rotate === 270) {\n              deltaX = dist[1];\n              deltaY = dist[0] * -1;\n            }\n            setTempProps({ left: deltaX, top: deltaY });\n          }}\n          onDragEnd={({ target, isDrag, clientX, clientY }) => {\n            // console.log(\"onDragEnd\", target, isDrag, clientX, clientY);\n            setPrivateProps({\n              ...privateProps,\n              left:\n                tempProps.left !== undefined\n                  ? privateProps.left + tempProps.left\n                  : privateProps.left,\n              top:\n                tempProps.top !== undefined\n                  ? privateProps.top + tempProps.top\n                  : privateProps.top\n            });\n            setTempProps({});\n          }}\n          onResizeStart={({ target, clientX, clientY }) => {\n            // console.log(\"onResizeStart\", target);\n          }}\n          onResize={({\n            target,\n            width,\n            height,\n            dist,\n            delta,\n            direction,\n            clientX,\n            clientY\n          }) => {\n            // console.log(\"onResize\", target);\n            // console.log(\"onResize\", delta);\n            // console.log(\"onResize\", width, height);\n            delta[0] && (target.style.width = `${width}px`);\n            delta[1] && (target.style.height = `${height}px`);\n            setPrivateProps({\n              ...privateProps,\n              width: width,\n              height: height\n            });\n            setTempProps({});\n          }}\n          onResizeEnd={({ target, isDrag, clientX, clientY }) => {\n            // console.log(\"onResizeEnd\", target, isDrag);\n          }}\n          onRotateStart={({ target, clientX, clientY }) => {\n            // console.log(\"onRotateStart\", target);\n          }}\n          onRotate={({ target, delta, dist, transform, clientX, clientY }) => {\n            // console.log(\"onRotate\", dist);\n            const angle = (privateProps.rotate + dist) % 360;\n            setTempProps({ rotate: angle < 0 ? 360 + angle : angle });\n            target.style.transform = transform;\n          }}\n          onRotateEnd={({ target, isDrag, clientX, clientY }) => {\n            // console.log(\"onRotateEnd\", target, isDrag);\n            setPrivateProps({\n              ...privateProps,\n              rotate:\n                tempProps.rotate !== undefined\n                  ? tempProps.rotate\n                  : privateProps.rotate\n            });\n            setTempProps({});\n          }}\n        // onPinchStart={({ target, clientX, clientY, datas }) => {\n        //   // pinchStart event occur before dragStart, rotateStart, scaleStart, resizeStart\n        //   // console.log(\"onPinchStart\");\n        // }}\n        // onPinch={({ target, clientX, clientY, datas }) => {\n        //   // pinch event occur before drag, rotate, scale, resize\n        //   // console.log(\"onPinch\");\n        // }}\n        // onPinchEnd={({ isDrag, target, clientX, clientY, datas }) => {\n        //   // pinchEnd event occur before dragEnd, rotateEnd, scaleEnd, resizeEnd\n        //   // console.log(\"onPinchEnd\");\n        // }}\n        />\n      ) : null}\n    </React.Fragment>\n  );\n};\n\nconst targetTemplate = {\n  classSelector: \"targets\",\n  name: \"Target\",\n  width: 100,\n  height: 100,\n  top: 100,\n  left: 100,\n  rotate: 0,\n  fill:\"red\",\n  fontColor: \"white\"\n};\n\nconst App = () => {\n  const [targets, setTargets] = useState([\n    {\n      id: \"target\",\n      classSelector: \"targets\",\n      name: \"Target1\",\n      width: 100,\n      height: 100,\n      top: 100,\n      left: 100,\n      rotate: 90,\n      backgroundColor:\n        \"red\",\n      fontColor: \"white\"\n    },\n    {\n      id: \"target2\",\n      classSelector: \"targets\",\n      name: \"Target2\",\n      width: 200,\n      height: 200,\n      top: 220,\n      left: 200,\n      rotate: 180,\n      backgroundColor:\n        \"green\",\n      fontColor: \"black\"\n    }\n  ]);\n  const [isMoveable, setIsMoveable] = useState(false);\n\n  const onAddMore = () => {\n    const newTarget = { ...targetTemplate };\n    newTarget.id = shortid.generate();\n    newTarget.name = `${newTarget.name}`;\n    console.log(newTarget);\n    setTargets([...targets, newTarget]);\n  };\n\n  const toggleMoveable = () => {\n    setIsMoveable(!isMoveable);\n  };\n\n  const onDuplicate = (id) => {\n    const newTarget = { ...targets.find((item) => item.id === id) };\n    newTarget.id = shortid.generate();\n    newTarget.name = `${newTarget.name}`;\n    setTargets([...targets, newTarget]);\n  };\n\n  const onRemove = (id) => {\n    const index = targets.findIndex((item) => item.id === id);\n    setTargets([...targets.slice(0, index), ...targets.slice(index + 1)]);\n  };\n\n  return (\n    <TransformWrapper\n      defaultScale={1}\n      options={{ disabled: isMoveable, minScale: 0.2 }}\n      wheel={{ disabled: true }}\n      zoomIn={{ step: 10 }}\n      zoomOut={{ step: 10 }}\n    >\n      {({ zoomIn, zoomOut, resetTransform, ...rest }) => (\n        <React.Fragment>\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: \"10px\",\n              right: \"10px\",\n              zIndex: 100\n            }}\n          >\n            <button onClick={zoomIn}>+</button>\n            <button style={{ marginLeft: \"10px\" }} onClick={zoomOut}>\n              -\n            </button>\n            <button style={{ marginLeft: \"10px\" }} onClick={resetTransform}>\n              x\n            </button>\n            <button style={{ marginLeft: \"10px\" }} onClick={onAddMore}>\n              Add More\n            </button>\n            <button style={{ marginLeft: \"10px\" }} onClick={toggleMoveable}>\n              Toggle Moveable\n            </button>\n          </div>\n          <TransformComponent>\n            <div\n              className=\"container\"\n              style={{\n                width: \"100vw\",\n                height: \"100vh\",\n                background:\n                  \"repeating-linear-gradient(0deg, rgba(120, 120, 120, 0.2), rgba(120, 120, 120, 0.22) 2px, rgba(0, 0, 0, 0) 2px, rgba(0, 0, 0, 0) 240px), repeating-linear-gradient(-90deg, rgba(120, 120, 120, 0.22), rgba(120, 120, 120, 0.22) 2px, rgba(0, 0, 0, 0) 2px, rgba(0, 0, 0, 0) 240px), repeating-linear-gradient(0deg, rgba(120, 120, 120, 0.22), rgba(120, 120, 120, 0.22) 2px, rgba(0, 0, 0, 0) 2px, rgba(0, 0, 0, 0) 60px), repeating-linear-gradient(-90deg, rgba(120, 120, 120, 0.22), rgba(120, 120, 120, 0.22) 2px, rgba(0, 0, 0, 0) 2px, rgba(0, 0, 0, 0) 60px)\",\n                pointerEvents: \"auto !important\"\n              }}\n            >\n              {targets.map((target) => (\n                <MoveableElemet\n                  key={target.id}\n                  properties={target}\n                  allowMoveable={isMoveable}\n                  onDuplicate={onDuplicate}\n                  onRemove={onRemove}\n                />\n              ))}\n            </div>\n          </TransformComponent>\n        </React.Fragment>\n      )}\n    </TransformWrapper>\n  );\n};\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"]},"metadata":{},"sourceType":"module"}